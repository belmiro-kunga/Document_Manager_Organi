# Production Environment Configuration
# Configuração do Ambiente de Produção

# Application
NODE_ENV=production
APP_NAME=Advanced DMS
APP_VERSION=1.0.0
APP_PORT=8000
APP_HOST=0.0.0.0

# Database Configuration
DATABASE_HOST=${DB_HOST}
DATABASE_PORT=${DB_PORT:-5432}
DATABASE_NAME=${DB_NAME}
DATABASE_USER=${DB_USER}
DATABASE_PASSWORD=${DB_PASSWORD}
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT:-5432}/${DB_NAME}
DATABASE_SSL=true
DATABASE_LOGGING=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20

# Redis Configuration
REDIS_HOST=${REDIS_HOST}
REDIS_PORT=${REDIS_PORT:-6379}
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT:-6379}
REDIS_DB=0
REDIS_CLUSTER=false

# Elasticsearch Configuration
ELASTICSEARCH_HOST=${ES_HOST}
ELASTICSEARCH_PORT=${ES_PORT:-9200}
ELASTICSEARCH_URL=https://${ES_HOST}:${ES_PORT:-9200}
ELASTICSEARCH_INDEX_PREFIX=adms_prod
ELASTICSEARCH_USERNAME=${ES_USERNAME}
ELASTICSEARCH_PASSWORD=${ES_PASSWORD}

# Cloud Storage Configuration
STORAGE_PROVIDER=${STORAGE_PROVIDER:-s3}
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
AWS_REGION=${AWS_REGION:-us-east-1}
AWS_S3_BUCKET=${AWS_S3_BUCKET}
AWS_S3_ENDPOINT=${AWS_S3_ENDPOINT}

# Authentication
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
BCRYPT_ROUNDS=12

# File Storage
MAX_FILE_SIZE=500MB
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,jpg,jpeg,png,gif,mp4,avi,xlsx,pptx

# Email Configuration
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=${SMTP_PORT:-587}
SMTP_USER=${SMTP_USER}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_FROM=${SMTP_FROM}
SMTP_SECURE=true

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=/app/logs/app.log
LOG_MAX_SIZE=50MB
LOG_MAX_FILES=10
LOG_COMPRESS=true

# API Configuration
API_PREFIX=/api/v1
API_RATE_LIMIT=100
API_RATE_WINDOW=15

# CORS Configuration
CORS_ORIGIN=${CORS_ORIGIN}
CORS_CREDENTIALS=true

# Session Configuration
SESSION_SECRET=${SESSION_SECRET}
SESSION_MAX_AGE=3600000

# Python Analysis Service
PYTHON_SERVICE_URL=http://python-analysis:8001
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4000

# Monitoring
HEALTH_CHECK_INTERVAL=60000
METRICS_ENABLED=true
METRICS_PORT=9090
SENTRY_DSN=${SENTRY_DSN}

# Production Features
HOT_RELOAD=false
DEBUG_MODE=false
MOCK_EXTERNAL_APIS=false
SEED_DATABASE=false
AUTO_MIGRATIONS=false

# Internationalization
DEFAULT_LANGUAGE=pt-PT
SUPPORTED_LANGUAGES=pt-PT,en-US,fr-FR
TIMEZONE=Africa/Luanda

# Security (Production - Strict)
SECURITY_HEADERS=true
RATE_LIMITING=true
CSRF_PROTECTION=true
HELMET_ENABLED=true
HTTPS_ONLY=true

# SSL/TLS
SSL_CERT_PATH=${SSL_CERT_PATH}
SSL_KEY_PATH=${SSL_KEY_PATH}
SSL_CA_PATH=${SSL_CA_PATH}

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=${BACKUP_S3_BUCKET}

# Performance
CLUSTER_MODE=true
CLUSTER_WORKERS=${CLUSTER_WORKERS:-4}
CACHE_TTL=3600
COMPRESSION_ENABLED=true